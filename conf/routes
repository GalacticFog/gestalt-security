# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

GET           /health                                                   controllers.RESTAPIController.getHealth

##########################################
# orgs
##########################################
GET           /sync                                                     controllers.RESTAPIController.rootOrgSync
GET           /orgs                                                     controllers.RESTAPIController.listAllOrgs
GET           /orgs/current                                             controllers.RESTAPIController.getCurrentOrg
#
GET           /orgs/:orgId                                              controllers.RESTAPIController.getOrgById(orgId: java.util.UUID)
DELETE        /orgs/:orgId                                              controllers.RESTAPIController.deleteOrgById(orgId: java.util.UUID)
POST          /orgs/:orgId                                              controllers.RESTAPIController.createOrg(orgId: java.util.UUID)
#
GET           /orgs/:orgId/orgs                                         controllers.RESTAPIController.listOrgTree(orgId: java.util.UUID)
GET           /orgs/:orgId/sync                                         controllers.RESTAPIController.subOrgSync(orgId: java.util.UUID)
#
GET           /orgs/:orgId/directories                                  controllers.RESTAPIController.listOrgDirectories(orgId: java.util.UUID)
POST          /orgs/:orgId/directories                                  controllers.RESTAPIController.createOrgDirectory(orgId: java.util.UUID)
#
POST          /orgs/:orgId/apps                                         controllers.RESTAPIController.createOrgApp(orgId: java.util.UUID)
GET           /orgs/:orgId/apps                                         controllers.RESTAPIController.listOrgApps(orgId: java.util.UUID)
#
GET           /orgs/:orgId/accountStores                                controllers.RESTAPIController.getOrgAccountStores(orgId: java.util.UUID)
POST          /orgs/:orgId/accountStores                                controllers.RESTAPIController.createOrgAccountStore(orgId: java.util.UUID)
#
GET           /orgs/:orgId/accounts                                     controllers.RESTAPIController.listOrgAccounts(orgId: java.util.UUID)
POST          /orgs/:orgId/accounts                                     controllers.RESTAPIController.createAccountInOrg(orgId: java.util.UUID)
GET           /orgs/:orgId/accounts/:accountId                          controllers.RESTAPIController.getOrgAccount(orgId: java.util.UUID, accountId: java.util.UUID)
GET           /orgs/:orgId/accounts/:accountId/rights                   controllers.RESTAPIController.listOrgAccountRights(orgId: java.util.UUID, accountId: java.util.UUID)
GET           /orgs/:orgId/accounts/:accountId/rights/:grantName        controllers.RESTAPIController.getOrgAccountGrant(orgId: java.util.UUID, accountId: java.util.UUID, grantName)
PUT           /orgs/:orgId/accounts/:accountId/rights/:grantName        controllers.RESTAPIController.updateOrgAccountRightGrant(orgId: java.util.UUID, accountId: java.util.UUID, grantName)
DELETE        /orgs/:orgId/accounts/:accountId/rights/:grantName        controllers.RESTAPIController.deleteOrgAccountRightGrant(orgId: java.util.UUID, accountId: java.util.UUID, grantName)
#
GET           /orgs/:orgId/groups                                       controllers.RESTAPIController.listOrgGroupMappings(orgId: java.util.UUID)
POST          /orgs/:orgId/groups                                       controllers.RESTAPIController.createGroupInOrg(orgId: java.util.UUID)
GET           /orgs/:orgId/groups/:groupId                              controllers.RESTAPIController.getOrgGroup(orgId: java.util.UUID, groupId: java.util.UUID)
GET           /orgs/:orgId/groups/:groupId/rights                       controllers.RESTAPIController.listOrgGroupRights(orgId: java.util.UUID, groupId: java.util.UUID)
GET           /orgs/:orgId/groups/:groupId/rights/:grantName            controllers.RESTAPIController.getOrgGroupGrant(orgId: java.util.UUID, groupId: java.util.UUID, grantName)
PUT           /orgs/:orgId/groups/:groupId/rights/:grantName            controllers.RESTAPIController.updateOrgGroupRightGrant(orgId: java.util.UUID, groupId: java.util.UUID, grantName)
DELETE        /orgs/:orgId/groups/:groupId/rights/:grantName            controllers.RESTAPIController.deleteOrgGroupRightGrant(orgId: java.util.UUID, groupId: java.util.UUID, grantName)

##########################################
# accounts
##########################################
GET           /accounts/:accountId                                      controllers.RESTAPIController.getAccount(accountId: java.util.UUID)
PATCH         /accounts/:accountId                                      controllers.RESTAPIController.updateAccount(accountId: java.util.UUID)
DELETE        /accounts/:accountId                                      controllers.RESTAPIController.disableAccount(accountId: java.util.UUID)
GET           /accounts/:accountId/groups                               controllers.RESTAPIController.listAccountGroups(accountId: java.util.UUID)

##########################################
# directories
##########################################
GET           /directories/:dirId                                       controllers.RESTAPIController.getDirectory(dirId: java.util.UUID)
#
GET           /directories/:dirId/accounts                              controllers.RESTAPIController.listDirAccounts(dirId: java.util.UUID)
POST          /directories/:dirId/accounts                              controllers.RESTAPIController.createDirAccount(dirId: java.util.UUID)
GET           /directories/:dirId/accounts/:username                    controllers.RESTAPIController.getDirAccountByUsername(dirId: java.util.UUID, username)
#
GET           /directories/:dirId/groups                                controllers.RESTAPIController.listDirGroups(dirId: java.util.UUID)
POST          /directories/:dirId/groups                                controllers.RESTAPIController.createDirGroup(dirId: java.util.UUID)
GET           /directories/:dirId/groups/:groupName                     controllers.RESTAPIController.getDirGroupByName(dirId: java.util.UUID, groupName)

##########################################
# apps
##########################################
GET           /apps/:appId                                              controllers.RESTAPIController.getAppById(appId: java.util.UUID)
DELETE        /apps/:appId                                              controllers.RESTAPIController.deleteAppById(appId: java.util.UUID)
#
GET           /apps/:appId/accountStores                                controllers.RESTAPIController.getAccountStores(appId: java.util.UUID)
#
GET           /apps/:appId/accounts                                     controllers.RESTAPIController.listAppAccounts(appId: java.util.UUID)
POST          /apps/:appId/accounts                                     controllers.RESTAPIController.createAppAccount(appId: java.util.UUID)
#
GET           /apps/:appId/accounts/:accountId/rights                    controllers.RESTAPIController.listAccountRights(appId: java.util.UUID, accountId: java.util.UUID)
GET           /apps/:appId/accounts/:accountId/rights/:grantName         controllers.RESTAPIController.getAccountGrant(appId: java.util.UUID, accountId: java.util.UUID, grantName)
PUT           /apps/:appId/accounts/:accountId/rights/:grantName         controllers.RESTAPIController.updateRightGrant(appId: java.util.UUID, accountId: java.util.UUID, grantName)
DELETE        /apps/:appId/accounts/:accountId/rights/:grantName         controllers.RESTAPIController.deleteRightGrant(appId: java.util.UUID, accountId: java.util.UUID, grantName)

##########################################
# rights
##########################################
# TODO
# GET             /rights/:rightId
# POST            /rights/:rightId
# PUT             /rights/:rightId

##########################################
# account-store mappings
##########################################
POST          /accountStores                                            controllers.RESTAPIController.createAccountStoreMapping()
GET           /accountStores/:mapId                                     controllers.RESTAPIController.getAccountStoreMapping(mapId: java.util.UUID)
PUT           /accountStores/:mapId                                     controllers.RESTAPIController.updateAccountStoreMapping(mapId: java.util.UUID)
DELETE        /accountStores/:mapId                                     controllers.RESTAPIController.deleteAccountStoreMapping(mapId: java.util.UUID)

# Map static resources from the /public folder to the /assets URL path
GET           /assets/*file                                             controllers.Assets.at(path="/public", file)

##########################################
# auth
##########################################
POST          /apps/:appId/auth                                         controllers.RESTAPIController.appAuth(appId: java.util.UUID)
POST          /orgs/:orgId/auth                                         controllers.RESTAPIController.orgAuthByUUID(orgId: java.util.UUID)
POST          /auth                                                     controllers.RESTAPIController.apiAuth

POST          /$fqon<(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])>/auth  controllers.RESTAPIController.orgAuthByFQON(fqon: String)
GET           /$fqon<(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])>       controllers.RESTAPIController.getOrgByFQON(fqon: String)
